<!DOCTYPE html>
<html lang="zh-cn"> 
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>显示面板</title>
     <link type="text/css" rel="stylesheet" href="./assets/font/log/iconfont.css"/>
    <!--基础样式-->
    <link rel="stylesheet" type="text/css" href="./assets/plugins/bootstrap-3.3.0/css/bootstrap.css" />
    <link type="text/css" rel="stylesheet" href="./assets/plugins/select2/css/select2.css"/>
    <link rel="stylesheet" type="text/css" href="./assets/plugins/bootstrap-table-1.11.0/bootstrap-table.css">
    <link rel="stylesheet" type="text/css" href="./assets/css/base/base.css" />
    <link rel="stylesheet" type="text/css" href="./assets/css/base/common.css" />
    <link rel="stylesheet" type="text/css" href="./assets/css/base/forms.css" />
    <!--主题色-->
    <link type="text/css" rel="stylesheet" href="./assets/css/base/themecolor_blue.css"/>
    <!-- 本页面样式 -->
    <link type="text/css" rel="stylesheet" href="./assets/css/page_data.css"/>
</head>

<body>
<div class="wrapper-content">
    <div class="box">

        <div class="box-header with-border">
            <div class="box-title dec_1 theme-border-left">显示面板</div>
        </div>
        <div class="box-body">
            <!-- 表格 -->
            <div class="input-group fl col-xs-7" style="margin-top:0px; positon:relative">
                <input type="text" class="form-control" placeholder="请输入字段名">
                        <span class="input-group-btn">
                           <button class="btn btn-info btn-search"><i class="iconfont icon-sousuo"></i>查找</button>
                        </span>
            </div>
            <div class="fr mt15 mb10">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#Modal_view" id="add_btn">
                    <span class="glyphicon glyphicon-plus"></span>
                    添加
                </button>
                <button type="button" class="btn btn-danger">
                    <span class="glyphicon glyphicon-remove"></span>
                    删除
                </button>
            </div>
            <table id="table"></table>

            <!-- 模态框 -->
            <div class="modal fade" id="Modal_view" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h5 class="modal-title" id="myModalLabel">添加面板</h5>
                        </div>
                        <div class="modal-body " style="min-height: 300px;"> 
                            <form role="form" class="form-horizontal row">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="firstname" class="col-sm-3 control-label">
                                        面板名称:</label>
                                        <div class="col-sm-7">
                                             <input type="text" class="form-control input-sm" id="firstname" placeholder="请输入名字">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="mb10 red-tip">请选择面板要显示的图表(每选择一个，便会在下方显示出对应的图表统计图)</div>
                                    <table border="1" class="table_show">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>图表名称</th>
                                                <th>所属项目</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="checkbox" data-index="0">
                                                </td>
                                                <td>电子证照日志异常柱状图</td>
                                                <td>电子证照</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="checkbox" data-index="1">
                                                </td>
                                                <td>电子证照日志异常柱状图</td>
                                                <td>电子证照</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="checkbox" data-index="2">
                                                </td>
                                                <td>其他</td>
                                                <td>其他</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 图表显示 -->
                                <div class="row bor_view">
                                    <div class="view_index">
                                        <div id="main_pie" class="main_view"></div>
                                    </div>
                                    <div class="view_index">
                                         <div id="main_line" class="main_view"></div>
                                    </div>
                                    <div class="view_index">
                                         <div id="main_bar" class="main_view"></div>
                                    </div>
                                    <div class="view_index">
                                         <div id="main_tree" class="main_view"></div>
                                    </div>
                                </div>
                            </form>
                            <!--  -->
                            
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary" id="btn_ok">保存</button>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal -->
            </div>

            <!-- 详情弹出框 -->
            <div class="info_content" id="info_content" style="display: none">
                 <div class="row">
                    <div class="col-sm-6">
                        <div class="info_block">
                            <p class="info_text">统计图表名称：</p>
                            <div id="show_info_line" class="show_info"></div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="info_block">
                            <p class="info_text">统计图表名称：</p>
                            <div id="show_info_pie" class="show_info"></div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="info_block">
                            <p class="info_text">统计图表名称：</p>
                            <div id="show_info_bar" class="show_info"></div>
                        </div>
                    </div>
                 </div>
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="./assets/js/jquery/jquery-1.12.3.min.js"></script>
<script type="text/javascript" src="./assets/plugins/select2/js/select2.full.js"></script>
<script type="text/javascript" src="./assets/plugins/bootstrap-3.3.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="./assets/plugins/bootstrap-table-1.11.0/bootstrap-table.min.js"></script>
<script src="assets/plugins/bootstrap-table-1.11.0/locale/bootstrap-table-zh-CN.min.js" type="text/javascript"></script>
<!-- 表格配置Js -->
<script type="text/javascript" src="./assets/js/page_data.js"></script>
<script type="text/javascript" src="./assets/plugins/layer-v2.4/layer.js"></script>
<!-- Echarts图表 -->
<script type="text/javascript" src="./assets/plugins/Echarts/echarts.js"></script>
<script type="text/javascript" src="./assets/js/echart.config.js"></script>
<!-- 图表配置JS -->
<script type="text/javascript" src="./assets/js/common.js"></script>
<script type="text/javascript">
   //复选框选中不可点击添加
   $(window).load(function(){
        $("#table input[type=checkbox]").on("change",function(){
            var tf=$(this).prop("checked");
            if(tf){
                $("#add_btn").attr("disabled","disabled").removeClass("btn-primary")
            }else{
                $("#add_btn").removeAttr("disabled").addClass("btn-primary")
            }
        })
    })    
   //点击列表弹出详情
    $(".btn_info").on("click",function(){
        var layerIndex = layer.open({
            type: 1,
            title: '<i class="iconfont icon-61"></i> 显示面板名称',
            area: ['100%', '100%'], //宽高
            shadeClose: true,
            content: $("#info_content"),

            yes: function (index, layero) {
                $("#add1_form").submit();
            },
            bnt2: function (index, layero) {
                layer.close(index);
            }
        });
    });
    //弹出详情页面
    var chart_info_line=echarts.init($("#show_info_line").get(0));
    chart_info_line.setOption({
        title: {
            text: '折线图'
        },
        tooltip: {},
        legend: {
            data:['记录']
        },
        xAxis: {
            data: ["A","B","C","D","E","F"]
        },
        yAxis: {},
        series: [{
            name: '记录',
            type: 'line',
            data: [5, 20, 36, 10, 10, 20]
        }]
        
    })
    //柱状图
    var chart_info_bar=echarts.init($("#show_info_bar").get(0));
    chart_info_bar.setOption({
        title: {
            text: '折线图'
        },
        tooltip: {},
        legend: {
            data:['记录']
        },
        xAxis: {
            data: ["A","B","C","D","E","F"]
        },
        yAxis: {},
        series: [{
            name: '记录',
            type: 'bar',
            data: [5, 20, 36, 10, 10, 20]
        }]
        
    })
    //饼状图
    var chart_info_pie=echarts.init($("#show_info_pie").get(0));
    chart_info_pie.setOption({
        title: {
            text: '饼状图'
        },
        tooltip: {},
        legend: {
            data:['记录']
        },
        xAxis: {
            data: ["A","B","C","D","E","F"]
        },
        yAxis: {},
        series: [{
            name: '记录',
            type: 'pie',
            data: [5, 20, 36, 10, 10, 20]
        }]
        
    })
    //添加面板内容图表选择
    $(".table_show input[type=checkbox]").change(function(){
       var index=$(this).attr("data-index");
       var parentObj=$(this).parents("tr");
       var tf=$(this).prop("checked");
        var obj=$(".view_index").eq(index).children(".main_view")
       if(obj.is(":hidden")){
            obj.show();
            parentObj.addClass("trB");
       }else{
            obj.hide();
            parentObj.removeClass("trB");
       }


        
    })
</script>
</html>